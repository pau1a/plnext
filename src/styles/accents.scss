// Brand accent utilities shared across feature routes.
// Provides mixins and opt-in utility classes for gradient overlays,
// crimson dot labels, and pill dividers so that hero sections maintain
// consistent styling.

// Adds the Paula gradient overlay used on feature hero sections.
// The host element should also set a background color and manage its
// internal stacking context (e.g. z-index on inner wrappers).
@mixin brand-gradient-overlay {
  position: relative;
  isolation: isolate;

  &::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      180deg,
      color-mix(in srgb, var(--color-teal-800) 88%, var(--color-graphite-900) 12%) 0%,
      color-mix(in srgb, var(--color-teal-700) 82%, var(--color-graphite-800) 18%) 42%,
      color-mix(in srgb, var(--color-teal-600) 35%, #ffffff 65%) 78%,
      var(--surface-base) 100%
    );
    z-index: 0;
  }

  @at-root :global(body.dark) #{&}::before {
    background: linear-gradient(
      180deg,
      color-mix(in srgb, var(--color-teal-700) 70%, var(--color-graphite-900) 30%) 0%,
      color-mix(in srgb, var(--color-teal-800) 68%, var(--color-graphite-800) 32%) 48%,
      color-mix(in srgb, var(--color-teal-900) 55%, var(--surface-base) 45%) 78%,
      var(--surface-base) 100%
    );
  }
}

// Displays an inline crimson dot label ahead of a heading or badge.
// Works best on inline-flex containers and can be combined with
// flex-wrap for multi-word headings.
@mixin brand-dot-label(
  $dot-size: clamp(0.375rem, 1vw, 0.5rem),
  $gap: clamp(0.4rem, 1vw, 0.7rem)
) {
  display: inline-flex;
  align-items: center;
  gap: $gap;

  &::before {
    content: "";
    width: $dot-size;
    height: $dot-size;
    border-radius: 50%;
    background: var(--color-crimson-500);
    box-shadow: 0 0 0 1px color-mix(
        in srgb,
        var(--color-crimson-500) 55%,
        transparent
      );
  }
}

// Creates a crimson pill divider. Width defaults to 100% so the mixin
// can be applied to block-level elements or constrained via arguments.
@mixin brand-accent-divider(
  $height: 3px,
  $width: 100%
) {
  display: inline-block;
  width: $width;
  height: $height;
  border-radius: 999px;
  background: var(--color-crimson-500);
  box-shadow: 0 0 0 1px color-mix(
      in srgb,
      var(--color-crimson-500) 30%,
      transparent
    );
}

// Opt-in utility classes for templates that prefer markup driven usage.
.u-brand-gradient-overlay {
  @include brand-gradient-overlay;
}

.u-brand-dot-label {
  @include brand-dot-label();
}

.u-brand-pill-divider {
  @include brand-accent-divider();
}
